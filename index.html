<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Hello World!</title>
  </head>
  <body>
    <h1>Hello World!</h1>
    We are using Node.js <script>document.write(process.version)</script>
    and Electron <script>document.write(process.versions['electron'])</script>.

    <form id="syncForm">
      <button>Trigger sync IPC action</button>
      <p class="msg"></p>
    </form>

    <form id="asyncForm">
      <button>Trigger async IPC action</button>
      <p class="msg"></p>
    </form>


    <script>
      var ipc = require( 'ipc' );

      // var syncForm  = document.getElementById( 'syncForm' );
      // var syncMsg   = syncForm.querySelector( '.msg' );
      var asyncForm = document.getElementById( 'asyncForm' );
      var asyncMsg  = asyncForm.querySelector( '.msg' );

      // syncForm.addEventListener( 'submit', ( event ) => {
      //   event.preventDefault();

      //   syncMsg.innerHTML = `${ + new Date()} - ${ipc.sendSync( 'synchronous-message', 'send syncMessage' )}`;
      // } );

      ipc.on( 'asynchronous-reply', function( msg ) {
        asyncMsg.innerHTML = `${ + new Date()} - ${msg}`;
      } );

      asyncForm.addEventListener( 'submit', ( event ) => {
        event.preventDefault();

        ipc.send( 'asynchronous-message', 'send asyncMessage' );
      } );
    </script>
  </body>
</html>
